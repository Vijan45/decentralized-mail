{"ast":null,"code":"import React,{useState}from'react';import{getWeb3,getContract}from'../utils/contract';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SendMessage=()=>{const[recipient,setRecipient]=useState('');const[message,setMessage]=useState('');const[status,setStatus]=useState('');const sendMessage=async()=>{const web3=await getWeb3();const accounts=await web3.eth.getAccounts();const contract=await getContract(web3);try{await contract.methods.sendMessage(recipient,message).send({from:accounts[0]});setStatus('Message sent successfully!');}catch(error){console.error(error);setStatus('Failed to send message');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Send Message\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Recipient Address\",value:recipient,onChange:e=>setRecipient(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Message\",value:message,onChange:e=>setMessage(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"}),/*#__PURE__*/_jsx(\"p\",{children:status})]});};export default SendMessage;","map":{"version":3,"names":["React","useState","getWeb3","getContract","jsx","_jsx","jsxs","_jsxs","SendMessage","recipient","setRecipient","message","setMessage","status","setStatus","sendMessage","web3","accounts","eth","getAccounts","contract","methods","send","from","error","console","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/bhija/Downloads/decentralized-mail/src/components/SendMessage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { getWeb3, getContract } from '../utils/contract';\r\n\r\nconst SendMessage = () => {\r\n  const [recipient, setRecipient] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [status, setStatus] = useState('');\r\n\r\n  const sendMessage = async () => {\r\n    const web3 = await getWeb3();\r\n    const accounts = await web3.eth.getAccounts();\r\n    const contract = await getContract(web3);\r\n\r\n    try {\r\n      await contract.methods.sendMessage(recipient, message).send({ from: accounts[0] });\r\n      setStatus('Message sent successfully!');\r\n    } catch (error) {\r\n      console.error(error);\r\n      setStatus('Failed to send message');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Send Message</h2>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Recipient Address\"\r\n        value={recipient}\r\n        onChange={(e) => setRecipient(e.target.value)}\r\n      />\r\n      <textarea\r\n        placeholder=\"Message\"\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n      ></textarea>\r\n      <button onClick={sendMessage}>Send</button>\r\n      <p>{status}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SendMessage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,CAAEC,WAAW,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzD,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACY,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAExC,KAAM,CAAAc,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAd,OAAO,CAAC,CAAC,CAC5B,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAAD,IAAI,CAACE,GAAG,CAACC,WAAW,CAAC,CAAC,CAC7C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,WAAW,CAACa,IAAI,CAAC,CAExC,GAAI,CACF,KAAM,CAAAI,QAAQ,CAACC,OAAO,CAACN,WAAW,CAACN,SAAS,CAAEE,OAAO,CAAC,CAACW,IAAI,CAAC,CAAEC,IAAI,CAAEN,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAC,CAClFH,SAAS,CAAC,4BAA4B,CAAC,CACzC,CAAE,MAAOU,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACpBV,SAAS,CAAC,wBAAwB,CAAC,CACrC,CACF,CAAC,CAED,mBACEP,KAAA,QAAAmB,QAAA,eACErB,IAAA,OAAAqB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBrB,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,mBAAmB,CAC/BC,KAAK,CAAEpB,SAAU,CACjBqB,QAAQ,CAAGC,CAAC,EAAKrB,YAAY,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/C,CAAC,cACFxB,IAAA,aACEuB,WAAW,CAAC,SAAS,CACrBC,KAAK,CAAElB,OAAQ,CACfmB,QAAQ,CAAGC,CAAC,EAAKnB,UAAU,CAACmB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACnC,CAAC,cACZxB,IAAA,WAAQ4B,OAAO,CAAElB,WAAY,CAAAW,QAAA,CAAC,MAAI,CAAQ,CAAC,cAC3CrB,IAAA,MAAAqB,QAAA,CAAIb,MAAM,CAAI,CAAC,EACZ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}