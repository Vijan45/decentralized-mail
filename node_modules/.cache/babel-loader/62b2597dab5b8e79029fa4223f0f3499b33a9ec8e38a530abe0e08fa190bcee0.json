{"ast":null,"code":"import Web3 from'web3';import DecentralizedMail from'../contracts/DecentralizedMail.json';const getWeb3=()=>new Promise((resolve,reject)=>{window.addEventListener('load',async()=>{if(window.ethereum){const web3=new Web3(window.ethereum);try{await window.ethereum.enable();resolve(web3);}catch(error){reject(error);}}else if(window.web3){resolve(new Web3(window.web3.currentProvider));}else{reject(new Error('Must install MetaMask'));}});});const getContract=async web3=>{const networkId=await web3.eth.net.getId();const deployedNetwork=DecentralizedMail.networks[networkId];return new web3.eth.Contract(DecentralizedMail.abi,deployedNetwork&&deployedNetwork.address);};export{getWeb3,getContract};","map":{"version":3,"names":["Web3","DecentralizedMail","getWeb3","Promise","resolve","reject","window","addEventListener","ethereum","web3","enable","error","currentProvider","Error","getContract","networkId","eth","net","getId","deployedNetwork","networks","Contract","abi","address"],"sources":["C:/Users/bhija/Downloads/decentralized-mail/src/utils/contract.js"],"sourcesContent":["import Web3 from 'web3';\r\nimport DecentralizedMail from '../contracts/DecentralizedMail.json';\r\n\r\nconst getWeb3 = () =>\r\n  new Promise((resolve, reject) => {\r\n    window.addEventListener('load', async () => {\r\n      if (window.ethereum) {\r\n        const web3 = new Web3(window.ethereum);\r\n        try {\r\n          await window.ethereum.enable();\r\n          resolve(web3);\r\n        } catch (error) {\r\n          reject(error);\r\n        }\r\n      } else if (window.web3) {\r\n        resolve(new Web3(window.web3.currentProvider));\r\n      } else {\r\n        reject(new Error('Must install MetaMask'));\r\n      }\r\n    });\r\n  });\r\n\r\nconst getContract = async (web3) => {\r\n  const networkId = await web3.eth.net.getId();\r\n  const deployedNetwork = DecentralizedMail.networks[networkId];\r\n  return new web3.eth.Contract(\r\n    DecentralizedMail.abi,\r\n    deployedNetwork && deployedNetwork.address,\r\n  );\r\n};\r\n\r\nexport { getWeb3, getContract };\r\n"],"mappings":"AAAA,MAAO,CAAAA,IAAI,KAAM,MAAM,CACvB,MAAO,CAAAC,iBAAiB,KAAM,qCAAqC,CAEnE,KAAM,CAAAC,OAAO,CAAGA,CAAA,GACd,GAAI,CAAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CAC/BC,MAAM,CAACC,gBAAgB,CAAC,MAAM,CAAE,SAAY,CAC1C,GAAID,MAAM,CAACE,QAAQ,CAAE,CACnB,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAT,IAAI,CAACM,MAAM,CAACE,QAAQ,CAAC,CACtC,GAAI,CACF,KAAM,CAAAF,MAAM,CAACE,QAAQ,CAACE,MAAM,CAAC,CAAC,CAC9BN,OAAO,CAACK,IAAI,CAAC,CACf,CAAE,MAAOE,KAAK,CAAE,CACdN,MAAM,CAACM,KAAK,CAAC,CACf,CACF,CAAC,IAAM,IAAIL,MAAM,CAACG,IAAI,CAAE,CACtBL,OAAO,CAAC,GAAI,CAAAJ,IAAI,CAACM,MAAM,CAACG,IAAI,CAACG,eAAe,CAAC,CAAC,CAChD,CAAC,IAAM,CACLP,MAAM,CAAC,GAAI,CAAAQ,KAAK,CAAC,uBAAuB,CAAC,CAAC,CAC5C,CACF,CAAC,CAAC,CACJ,CAAC,CAAC,CAEJ,KAAM,CAAAC,WAAW,CAAG,KAAO,CAAAL,IAAI,EAAK,CAClC,KAAM,CAAAM,SAAS,CAAG,KAAM,CAAAN,IAAI,CAACO,GAAG,CAACC,GAAG,CAACC,KAAK,CAAC,CAAC,CAC5C,KAAM,CAAAC,eAAe,CAAGlB,iBAAiB,CAACmB,QAAQ,CAACL,SAAS,CAAC,CAC7D,MAAO,IAAI,CAAAN,IAAI,CAACO,GAAG,CAACK,QAAQ,CAC1BpB,iBAAiB,CAACqB,GAAG,CACrBH,eAAe,EAAIA,eAAe,CAACI,OACrC,CAAC,CACH,CAAC,CAED,OAASrB,OAAO,CAAEY,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}