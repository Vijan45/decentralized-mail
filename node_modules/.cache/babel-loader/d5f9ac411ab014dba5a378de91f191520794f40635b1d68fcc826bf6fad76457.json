{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bhija\\\\Downloads\\\\decentralized-mail\\\\src\\\\components\\\\Inbox.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { List, ListItem, ListItemText, Typography, Card, CardContent, Box, IconButton } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport '../styles/Inbox.css';\nimport { getWeb3, getContract } from '../utils/contract';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Inbox = ({\n  messages,\n  setMessages\n}) => {\n  const deleteMessage = async id => {\n    const web3 = await getWeb3();\n    const accounts = await web3.eth.getAccounts();\n    const contract = await getContract(web3);\n    try {\n      await contract.methods.deleteMessage(id).send({\n        from: accounts[0]\n      });\n      setMessages(messages.filter((_, index) => index !== id));\n    } catch (error) {\n      console.error('Error deleting message:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"inbox-card\",\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: \"Inbox\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        className: \"message-list\",\n        children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          divider: true,\n          className: \"message-list-item\",\n          children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: `From: ${msg.sender}`,\n            secondary: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                component: \"span\",\n                variant: \"body2\",\n                color: \"textPrimary\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/message/${index}`,\n                  className: \"message-content\",\n                  children: msg.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 34,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 41\n              }, this), msg.imageHash && /*#__PURE__*/_jsxDEV(Box, {\n                className: \"message-image-container\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `https://gateway.pinata.cloud/ipfs/${msg.imageHash}`,\n                  alt: \"Attachment\",\n                  className: \"message-image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 40,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"end\",\n            \"aria-label\": \"delete\",\n            onClick: () => deleteMessage(index),\n            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 29\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n};\n_c = Inbox;\nexport default Inbox;\nvar _c;\n$RefreshReg$(_c, \"Inbox\");","map":{"version":3,"names":["React","Link","List","ListItem","ListItemText","Typography","Card","CardContent","Box","IconButton","DeleteIcon","getWeb3","getContract","jsxDEV","_jsxDEV","Fragment","_Fragment","Inbox","messages","setMessages","deleteMessage","id","web3","accounts","eth","getAccounts","contract","methods","send","from","filter","_","index","error","console","className","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","divider","primary","sender","secondary","component","color","to","content","imageHash","src","alt","edge","onClick","_c","$RefreshReg$"],"sources":["C:/Users/bhija/Downloads/decentralized-mail/src/components/Inbox.js"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { List, ListItem, ListItemText, Typography, Card, CardContent, Box, IconButton } from '@mui/material';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport '../styles/Inbox.css';\r\nimport { getWeb3, getContract } from '../utils/contract';\r\n\r\nconst Inbox = ({ messages, setMessages }) => {\r\n    const deleteMessage = async (id) => {\r\n        const web3 = await getWeb3();\r\n        const accounts = await web3.eth.getAccounts();\r\n        const contract = await getContract(web3);\r\n\r\n        try {\r\n            await contract.methods.deleteMessage(id).send({ from: accounts[0] });\r\n            setMessages(messages.filter((_, index) => index !== id));\r\n        } catch (error) {\r\n            console.error('Error deleting message:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card className=\"inbox-card\">\r\n            <CardContent>\r\n                <Typography variant=\"h5\" gutterBottom>Inbox</Typography>\r\n                <List className=\"message-list\">\r\n                    {messages.map((msg, index) => (\r\n                        <ListItem key={index} divider className=\"message-list-item\">\r\n                            <ListItemText\r\n                                primary={`From: ${msg.sender}`}\r\n                                secondary={\r\n                                    <>\r\n                                        <Typography component=\"span\" variant=\"body2\" color=\"textPrimary\">\r\n                                            <Link to={`/message/${index}`} className=\"message-content\">\r\n                                                {msg.content}\r\n                                            </Link>\r\n                                        </Typography>\r\n                                        {msg.imageHash && (\r\n                                            <Box className=\"message-image-container\">\r\n                                                <img\r\n                                                    src={`https://gateway.pinata.cloud/ipfs/${msg.imageHash}`}\r\n                                                    alt=\"Attachment\"\r\n                                                    className=\"message-image\"\r\n                                                />\r\n                                            </Box>\r\n                                        )}\r\n                                    </>\r\n                                }\r\n                            />\r\n                            <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => deleteMessage(index)}>\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                        </ListItem>\r\n                    ))}\r\n                </List>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default Inbox;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}